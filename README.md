Task from Alternativa Platform
==============================

Добрый день!
Данный репозиторий содержит мое решение 
высланного Вами тестового задания.

Task1 - первое задание на 3D-движок
Task2 - второе задание на рефакторинг класса

Оба задания выполнялись в среде Eclipse Helios

Task1:
======

Итак, папка Task1Build содержит всё, что нужно для запуска.

- port.txt - номер порта, по которому сервер слушает клиентов, а клиенты, в свою очередь, цепляются к серверу
- example.xml, example1.xml - дампы сцен (прилагались к заданию)
- EngineClient.jar - это клиент, который посылает серверу координаты лучей для рэйтрейсинга.
Идентификатор и координаты луча вводятся в клиент прямо с клавиатуры в заданном формате:
rayId;originX,originY,originZ;directionX,directionY,directionZ.
В главном потоке клиент отправляет данные на сервер, в потоке ServerListener - принимает сообщения от сервера

- Engine.jar - это сервер с 3D-движком. 
В качестве параметра при запуске принимает имя файла с дампом сцены (так сказано в задании)
При запуске сервера создается и инициализируется экземпляр Brain - это класс, который загружает сцену и запускает процесс построения BSP-дерева.
Кстати, о загрузке сцены - я весьма успешно облажался с JAXB, XML-нотациями и маршаллингом, 
посему прибегнул к загрузке сцены дедовским способом - ручному парсингу.
После того как сцена загружена, Brain выполняет построение BSP-дерева. Процесс довольно дорогостоящий, если учесть, что помимо построения дерева производится
также и выбор оптимального сплиттера из всего множества разделяемых полигонов (весовые коэффициенты указаны в классе SplitFactors).

Если дерево отстроилось корректно, запускается Communicator - класс, отвечающий за общение с клиентом через сокет. Для общения  каждым клиентом создается отдельный поток, в котором
производится первоначальная валидация того, что пришло от клиента. Если сообщение валидно, то в отдельном потоке запускается рэйтрейсинг. В ходе рейтресинга проход по BSP-дереву
осуществляется согласно геометрическому направлению вектора входного луча.

Сервер с клиентом общаются, передавая друг другу строки через сокет. Тут конечно, хорошо бы proto-сообщения запилить, но я уж тут по простому сделал(

Скрины:
http://maxpushkarev.ru/images/3d_1.png
http://maxpushkarev.ru/images/3d_2.png

Компилил проекты с помошью MAVEN.
Unit-тесты пригодились. Кстати, они очень сильно сэкономили мое время, особенно в отладке геометрических вычислений, за что я им глубоко признателен.
Запускал сервер и клиент на Windows 8 (32-разрядная О.С.)

Task2:
======

Исходный класс: oldClass -> MyApp.java
Провел разделение класса на несколько взаимосвязанных.
Входной класс для запуска приложения - BLApplication.

input.txt - файл с входными данными
stats.txt - файл с выходными данными
